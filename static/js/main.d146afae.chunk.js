(this["webpackJsonpadyen-test"]=this["webpackJsonpadyen-test"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/weather-loading.50538102.svg"},19:function(e,t,a){e.exports=a.p+"static/media/clouds-unsplash.799f5d9d.jpg"},20:function(e,t,a){e.exports=a.p+"static/media/tickets-loading.e39d1c3a.svg"},21:function(e,t,a){e.exports=a.p+"static/media/airplane-unsplash.49819b21.jpg"},22:function(e,t,a){e.exports=a.p+"static/media/home-background.bd6936e4.png"},23:function(e,t,a){e.exports=a(34)},28:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),s=(a(28),a(8)),i=a(6),m=function(){var e=Object(i.g)();return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},o=function(){return r.a.createElement("div",{className:"animated fadeIn slow"},r.a.createElement(s.b,{to:"/"},r.a.createElement("h1",{className:"font-avenir-bold text-xl text-blue-900 pt-8 ml-4"},"WAW")))},u=a(5),d=function(e,t){var a=Object(n.useState)({}),r=Object(u.a)(a,2),c=r[0],l=r[1],s=Object(n.useState)(!0),i=Object(u.a)(s,2),m=i[0],o=i[1];return Object(n.useEffect)((function(){o(!0),t(e).then((function(e){l(e),o(!1)}))}),[e,t]),[c,m]},f={amsterdam:"249758",budapest:"187423",madrid:"308526"},p={amsterdam:"AMS",budapest:"BUD",madrid:"MAD"},x=function(e){return f[e]},E=function(e){return e.reduce((function(e,t){return e+t}),0)/e.length},v="hWIKuLs88HFcXk6ehT6THGCXYNwFEDO7",g="http://dataservice.accuweather.com/",h=function(e){var t=x(e);return fetch("".concat(g,"currentconditions/v1/").concat(t,"?apikey=").concat(v)).then((function(e){return e.json()})).then((function(e){return{text:(t=e[0]).WeatherText,temperature:{unit:t.Temperature.Imperial.Unit,value:parseInt(t.Temperature.Imperial.Value)}};var t}))},b=function(e){var t=x(e);return fetch("".concat(g,"forecasts/v1/daily/5day/").concat(t,"?apikey=").concat(v)).then((function(e){return e.json()})).then((function(e){return function(e){var t=e.DailyForecasts.map((function(e){return e.Temperature.Minimum.Value})),a=e.DailyForecasts.map((function(e){return e.Temperature.Maximum.Value}));return{text:e.Headline.Text,averageTemperature:{min:{value:parseInt(E(t)),unit:e.DailyForecasts[0].Temperature.Minimum.Unit},max:{value:parseInt(E(a)),unit:e.DailyForecasts[0].Temperature.Minimum.Unit}}}}(e)}))},y=function(e){return Promise.all([h(e),b(e)]).then((function(e){var t=Object(u.a)(e,2);return{conditions:t[0],forecast:t[1]}}))},N=function(e){var t=e.title,a=e.bgImage,n=e.children;return r.a.createElement("div",{className:"bg-white animated fadeIn slow"},r.a.createElement("div",{className:"relative"},r.a.createElement("img",{className:"w-full object-fill h-56",src:a,alt:t}),r.a.createElement("div",{className:"card-title absolute bottom-0 left-0 uppercase text-sm bg-orange-400 text-white text-center py-4 px-20"},t)),r.a.createElement("div",{className:"text-center py-4 h-64 flex items-center flex-col justify-center"},n))},w=a(18),k=a.n(w),j=a(19),I=a.n(j),T=function(e){var t=e.city,a=d(t,y),n=Object(u.a)(a,2),c=n[0],l=n[1];return r.a.createElement(N,{title:"Weather",bgImage:I.a},l?r.a.createElement("div",null,r.a.createElement("img",{className:"m-auto",src:k.a,alt:"Loading"}),r.a.createElement("p",{className:"text-xl"},"Waiting Thor's response...")):r.a.createElement("div",{className:"animated fadeIn flex items-center flex-col justify-center"},r.a.createElement("p",{className:"flex-grow text-3xl mb-4"},c.conditions.text),r.a.createElement("p",{className:"text-xl mb-2"},"Now is ",c.conditions.temperature.value,"\xb0",c.conditions.temperature.unit),r.a.createElement("p",{className:"font-avenir-bold text-sm uppercase mt-8 mb-2"},"Next 5 days average"),r.a.createElement("p",{className:"text-xl mb-2"},"Min ",c.forecast.averageTemperature.min.value,"\xb0",c.forecast.averageTemperature.min.unit),r.a.createElement("p",{className:"text-xl"},"Max ",c.forecast.averageTemperature.max.value,"\xb0",c.forecast.averageTemperature.max.unit)))},M=function(e){var t=function(e){return p[e]}(e);return fetch("".concat("https://api.skypicker.com/","flights?flyFrom=AMS&to=").concat(t,"&partner=picky")).then((function(e){return e.json()})).then((function(e){return function(e){var t,a,n,r,c=e.currency,l=e.data,s=function(e){t=e.price,a=e.deep_link,n=e.fly_duration,r=Math.round(e.distance)};return l.forEach((function(e){t?e.price<t&&s(e):s(e)})),{currency:c,minPrice:t,flyDuration:n,distance:r,deepLink:a}}(e)}))},O=a(20),L=a.n(O),D=a(21),W=a.n(D),F=function(e){var t=e.city,a=d(t,M),n=Object(u.a)(a,2),c=n[0],l=n[1];return r.a.createElement(N,{title:"Tickets",bgImage:W.a},l?r.a.createElement("div",null,r.a.createElement("img",{className:"m-auto",src:L.a,alt:"Loading"}),r.a.createElement("p",{className:"text-xl"},"Haggling the lowest price...")):r.a.createElement("div",{className:"flex items-center flex-col justify-center animated fadeIn"},r.a.createElement("p",{className:"flex-grow text-3xl mb-4"},c.currency," ",c.minPrice),r.a.createElement("p",{className:"text-xl mb-2"},"Total duration is ",c.flyDuration),r.a.createElement("p",{className:"text-xl mb-10"},"Total distance is ",c.distance,"km"),r.a.createElement("a",{className:"bg-blue-500 hover:bg-blue-700 uppercase text-sm text-white py-4 px-6 rounded",href:c.deepLink,target:"_blank",rel:"noopener noreferrer"},"Buy this ticket")))},A=function(e){var t=e.defaultValue,a=Object(i.f)(),c=Object(n.useCallback)((function(e){var t=e.target.value;t&&a.push("/result/".concat(t))}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"relative"},r.a.createElement("select",{defaultValue:t,onChange:c,className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"},r.a.createElement("option",{value:""},"Choose a place"),r.a.createElement("option",{value:"amsterdam"},"Amsterdam"),r.a.createElement("option",{value:"madrid"},"Madrid"),r.a.createElement("option",{value:"budapest"},"Budapest")),r.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},r.a.createElement("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))))},V=function(e){var t=e.match.params.city;return r.a.createElement("div",{className:"h-screen"},r.a.createElement(o,null),r.a.createElement("div",{className:"flex flex-col items-center mt-10"},r.a.createElement("h1",{className:"text-4xl mb-10 uppercase font-avenir-bold animated fadeInDown slow"},t),r.a.createElement("div",{className:"grid grold-cols-1 md:grid-cols-2 gap-12"},r.a.createElement(T,{city:t}),r.a.createElement(F,{city:t})),r.a.createElement("div",{className:"animated fadeInLeft delay-1s"},r.a.createElement("p",{className:"mt-24 text-xl"},"Want to try another place?"),r.a.createElement("div",{className:"w-full my-4"},r.a.createElement(A,{defaultValue:t})))))},B=a(22),S=a.n(B),C=function(){return r.a.createElement("div",{className:"h-screen grid sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2"},r.a.createElement("div",{className:"h-screen flex flex-col"},r.a.createElement(o,null),r.a.createElement("div",{className:"flex flex-col h-full justify-between md:pt-40 md:pb-20 py-10 px-5"},r.a.createElement("div",null,r.a.createElement("h1",{className:"text-4xl animated fadeInLeft"},"Work ",r.a.createElement("span",{className:"text-orange-400"},"Around the World")),r.a.createElement("h2",{className:"text-lg animated fadeInLeft delay-1s"},"If you want to relocate, this is the first step")),r.a.createElement("div",{className:"w-full sm:w-1/3 py-10 md:py-0 animated fadeIn delay-2s"},r.a.createElement("div",{className:"animated pulse delay-3s"},r.a.createElement(A,null))),r.a.createElement("p",{className:"animated fadeInLeft delay-2s"},"Make sure to perfect match ",r.a.createElement("br",null),"your budget and ",r.a.createElement("br",null),"your weather preferences"))),r.a.createElement("div",{className:"hidden lg:block"},r.a.createElement("img",{className:"w-full h-screen animated fadeIn slow",src:S.a,alt:"Work around the world"})))};var H=function(){return r.a.createElement(s.a,{basename:"/"},r.a.createElement(m,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/result/:city",component:V}),r.a.createElement(i.a,{path:"/",component:C})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.d146afae.chunk.js.map